SR= 48000
freq=1000
phase = 0
PI=3.1415956

fn changeFreq(time:float)->void{
    freq = (freq+12587)%4500
    nt = time+freq*1
    changeFreq(nt@nt)
}

fn dsp(time:float)->float{
    phase = phase+ 2*PI*freq/SR
    return sin(phase+10*sin(time/100))*atan(100*(sin(time/4000)+1)/4 )
}

changeFreq(0@0)